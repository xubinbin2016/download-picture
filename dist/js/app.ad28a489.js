(function(){"use strict";var t={3919:function(t,n,o){var e=o(6848),i=function(){var t=this,n=t._self._c;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"top"},[n("div",{staticClass:"picture-count"},[t._v(" 本相册共有"),n("span",{staticClass:"count"},[t._v(t._s(t.photoList.length))]),t._v("张照片 ")]),n("button",{staticClass:"download",on:{click:t.downLoad}},[t._v("下载所有照片")])]),n("div",{staticClass:"container"},t._l(t.photoList,(function(t,o){return n("img",{key:o,attrs:{src:t,alt:""}})})),0),t.loading?n("div",{staticClass:"loading"},[t._m(0)]):t._e()])},r=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"torus-box"},[n("div",{staticClass:"torus"}),n("div",{staticClass:"torus-text"},[t._v(" 正在下载中，请耐心等待... ")])])}],s=(o(4114),o(4813)),a=o.n(s),u=o(788),c=o.n(u),l=o(8355),f={name:"App",data(){return{count:0,photoList:[],loading:!1}},created(){},mounted(){this.getPhotoList()},methods:{downJson(t){const n=this;fetch(t).then((function(t){return t.text()})).then((function(t){const o=t.indexOf("("),e=t.lastIndexOf(")"),i=JSON.parse(t.substring(o+1,e));n.photoList=i.data.photoList.map((t=>t.url))}))},getPhotoList(){this.photoList=["https://img0.baidu.com/it/u=4162443464,2854908495&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","https://img1.baidu.com/it/u=1960110688,1786190632&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281","https://img1.baidu.com/it/u=413643897,2296924942&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","https://img0.baidu.com/it/u=4162443464,2854908495&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500"]},getFile(t){return new Promise(((n,o)=>{(0,l.A)({method:"get",url:t,responseType:"blob"}).then((t=>{n(t.data)})).catch((t=>{o(t.toString())}))}))},downLoad(){let t=this.photoList||[];if(t.length<=0)alert("无可导出图片");else{this.loading=!0;let n,o=new(a()),e=[],i={};for(let r=0;r<t.length;r++)n=this.getFile(t[r]).then((t=>{o.file(`${r+1}.jpg`,t,{binary:!0}),i[r]=t})),e.push(n);console.log(e),Promise.all(e).then((()=>{o.generateAsync({type:"blob"}).then((t=>{c().saveAs(t,"相册图片.zip"),this.loading=!1}))})).catch((t=>{console.log(t),this.loading=!1,alert("文件下载失败，请刷新页面并按F12,然后重新下载")}))}}}},p=f,d=o(1656),h=(0,d.A)(p,i,r,!1,null,null,null),g=h.exports;e.Ay.config.productionTip=!1,new e.Ay({render:t=>t(g)}).$mount("#app")}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(n,e,i,r){if(!e){var s=1/0;for(l=0;l<t.length;l++){e=t[l][0],i=t[l][1],r=t[l][2];for(var a=!0,u=0;u<e.length;u++)(!1&r||s>=r)&&Object.keys(o.O).every((function(t){return o.O[t](e[u])}))?e.splice(u--,1):(a=!1,r<s&&(s=r));if(a){t.splice(l--,1);var c=i();void 0!==c&&(n=c)}}return n}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[e,i,r]}}(),function(){o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,{a:n}),n}}(),function(){o.d=function(t,n){for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(n){return 0===t[n]};var n=function(n,e){var i,r,s=e[0],a=e[1],u=e[2],c=0;if(s.some((function(n){return 0!==t[n]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(u)var l=u(o)}for(n&&n(e);c<s.length;c++)r=s[c],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(l)},e=self["webpackChunkdown_pic_all"]=self["webpackChunkdown_pic_all"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=o.O(void 0,[504],(function(){return o(3919)}));e=o.O(e)})();
//# sourceMappingURL=app.ad28a489.js.map